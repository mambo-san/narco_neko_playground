<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>NCA Simulation</title>
  <link rel="stylesheet" href="{{ url_for('nca_simulation.static', filename='style.css') }}">
  <script src="https://d3js.org/d3.v7.min.js"></script>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/qtip2@3.0.3/dist/jquery.qtip.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/qtip2@3.0.3/dist/jquery.qtip.min.css">

  <script src="https://cdn.jsdelivr.net/npm/cytoscape@3.24.0/dist/cytoscape.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/cytoscape-qtip@2.7.0/cytoscape-qtip.js"></script>
</head>

<body>
  <div id="container">
    <div id="sidebar">
      <h2>Parameters</h2>
      <label for="gridWidth">Grid Width</label>
      <input type="number" id="gridWidth" min="10" max="300">
    
      <label for="populationSize">Population Size</label>
      <input type="number" id="populationSize" min="1" max="1000">
    
      <label for="genomeLength">Genome Length</label>
      <input type="number" id="genomeLength" min="1" max="100">
      <label for="ticksPerGeneration">Ticks per generation</label>
      <input type="number" id="ticksPerGeneration" min="10" max="1000">
      <label for="mutationRate">Mutation %</label>
      <input type="number" id="mutationRate" min="0.001" max="10" step="0.01">

      <div class="param-field">
        <label for="spawnOutside">Spawn outside survival zone</label>
        <input type="checkbox" id="spawnOutside" class="checkbox-field">
      </div>
      
      <fieldset id="zoneTemplates" class="param-field">
        <legend>Survival Zone</legend>
        <label><input type="radio" name="survivalZone" value="edge" checked> Edge</label>
        <label><input type="radio" name="survivalZone" value="corners"> Corners</label>
        <label><input type="radio" name="survivalZone" value="center"> Center</label>
        <label><input type="radio" name="survivalZone" value="right"> Right Half</label>
        <label><input type="radio" name="survivalZone" value="custom"> Custom</label>
      </fieldset>

      <button id="startBtn">Start Simulation</button>
      <button id="pauseBtn">Pause Simulation</button>
    </div>
    <div id="sim-container">
      <canvas id="sim-canvas"></canvas>
    </div>
    <div id="info-panel">
      <h2>Statistics</h2>
      <div id="stats">
        <p><strong>Generation:</strong> <span id="stat-generation">0</span></p>
        <p><strong>Tick:</strong> <span id="stat-tick">0</span></p>
        <p><strong>Survivors:</strong> <span id="stat-survivors">0</span></p>
        <p><strong>Survival Rate:</strong> <span id="stat-survival-rate">0%</span></p>
      </div>
    </div>
  </div>

  <div id="nn-graph"></div>

  <script type="module" src="{{ url_for('nca_simulation.static', filename='scripts/main.js') }}"></script>
</body>


</html>